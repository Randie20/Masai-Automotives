<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Login to Masai Automotive's platform for car owners, mechanics, and spare parts sellers.">
  <title>Login - Masai Automotive</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
  <!-- Header -->
  <header>
    <nav class="navbar">
      <div class="logo">Masai Automotive</div>
      <input type="checkbox" id="menu-toggle">
      <label for="menu-toggle" class="hamburger"><i class="fas fa-bars"></i></label>
      <ul class="nav-links">
        <li><a href="registration.html">Register</a></li>
        <li><a href="faq.html">FAQ</a></li>
      </ul>
    </nav>
  </header>

  <!-- Main Content -->
  <main>
    <section class="login-form">
      <h2>Login to Your Account</h2>
      <p>Welcome back! Please enter your credentials to continue.</p>
      <form id="loginForm">
        <!-- Email Field -->
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="Enter your email address" required>
        <span class="error-message" id="email-error"></span>

        <!-- Password Field -->
        <label for="password">Password</label>
        <div class="password-container">
          <input type="password" id="password" name="password" placeholder="Enter your password" required>
          <button type="button" class="toggle-password" onclick="togglePasswordVisibility()">
            <i class="fas fa-eye"></i>
          </button>
        </div>
        <span class="error-message" id="password-error"></span>

        <!-- Remember Me and Forgot Password -->
        <div class="form-options">
          <label>
            <input type="checkbox" id="remember-me">
            Remember me
          </label>
          <a href="forgot-password.html" class="forgot-password-link">Forgot Password?</a>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn" id="loginButton">Login</button>
      </form>
      <p class="register-link">Don't have an account? <a href="register.html">Register here</a>.</p>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2023 Masai Automotive. All rights reserved.</p>
  </footer>

  <script src="js/scripts.js"></script>
  <script>
    // Password Visibility Toggle
    function togglePasswordVisibility() {
      const passwordField = document.getElementById('password');
      const eyeIcon = document.querySelector('.toggle-password i');
      if (passwordField.type === 'password') {
        passwordField.type = 'text';
        eyeIcon.classList.remove('fa-eye');
        eyeIcon.classList.add('fa-eye-slash');
      } else {
        passwordField.type = 'password';
        eyeIcon.classList.remove('fa-eye-slash');
        eyeIcon.classList.add('fa-eye');
      }
    }

    // Form Validation and Submission
    document.getElementById('loginForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const emailError = document.getElementById('email-error');
      const passwordError = document.getElementById('password-error');
      const loginButton = document.getElementById('loginButton');

      // Clear previous errors
      emailError.textContent = '';
      passwordError.textContent = '';

      let isValid = true;

      // Validate Email
      if (!email || !/\S+@\S+\.\S+/.test(email)) {
        emailError.textContent = 'Please enter a valid email address.';
        isValid = false;
      }

      // Validate Password
      if (!password || password.length < 6) {
        passwordError.textContent = 'Password must be at least 6 characters long.';
        isValid = false;
      }

      if (isValid) {
        // Simulate Login Process
        loginButton.disabled = true;
        loginButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';

        setTimeout(() => {
          alert('Login successful!');
          window.location.href = 'dashboard.html'; // Redirect to dashboard
        }, 2000);
      }
    });
  </script>
</body>
</html>